{% extends 'user/base.html' %}

{% block title %} 
Eschool-Courses

{% endblock title %}

{% block content %} 
{% load crispy_forms_tags %}
 <div class="w-100">
    {% csrf_token %}
    <form class="d-flex px-lg-5 mx-auto py-lg-5 w-75 absolute mb-3  align-items-center px-auto" role="search">
        <!-- <input id="course-search" class="form-control me-2" type="search" placeholder="Search" aria-label="Search"> -->
        <div class="w-100 " style="margin-right: 1rem;">
            {{form|crispy}}
        </div>
        <button class="btn btn-primary px-auto mx-auto mb-2 " style="margin-left: 1rem;"  type="submit">Search</button>
    </form>
    
    <div class="w-100 px-lg-5 row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 g-3 justify-content-center">
    {% if courses%}
        {% for course in courses %} 
        <a href="{% url 'course-detail-view' course.id %}" class="nav-link col">
            
            <div class="card p-2 " style="width: 18rem; height: 28rem; ">
                <h5 class="card-title m-2 " style="height: 2rem;" >{{course.title}} </h5>
                <div class="card-body">
                    <hr>
                    <div class="h-5 mb-3 relative">
                        <img class="card-img-top " style="height:10rem" src="{{course.image.url}}" alt="Card image cap">
                        
                        <p class="card-text  ">{{course.descrtiption | truncatechars:100}}</p>
                    </div>
                </div>
                <div class="d-flex p-2 justify-content-between absolute bottom-0">
                    <h6>By:{{course.created_by}}</h6>
                    <small>date: {{course.date_created |date}}</small>
                </div>
                
            </div>
        </a>
        {% endfor %}
    {%else%}
    <div>
        nothing found
    </div>
    {%endif%}
</div>
 </div>

{% endblock %}